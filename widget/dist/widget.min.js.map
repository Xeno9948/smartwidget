{"version":3,"file":"widget.min.js","mappings":"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","sources":["webpack://KiyohAIWidget/webpack/universalModuleDefinition","webpack://KiyohAIWidget/./src/utils/productDetector.js","webpack://KiyohAIWidget/./src/utils/productInfoScraper.js","webpack://KiyohAIWidget/./src/utils/apiClient.js","webpack://KiyohAIWidget/./src/KiyohAIWidget.js","webpack://KiyohAIWidget/./src/styles.js","webpack://KiyohAIWidget/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"KiyohAIWidget\"] = factory();\n\telse\n\t\troot[\"KiyohAIWidget\"] = factory();\n})(this, () => {\nreturn ","/**\n * Enhanced Product Detector\n * Tries multiple strategies to identify product: GTIN → Name → SKU → ID\n */\n\nclass ProductDetector {\n    /**\n     * Detect product using multiple strategies\n     */\n    static async detect() {\n        console.log('[ProductDetector] Starting multi-strategy detection...');\n\n        // Try GTIN first (most reliable)\n        const gtin = await this.detectGTIN();\n        if (gtin) {\n            console.log('[ProductDetector] ✓ Found GTIN:', gtin);\n            return { type: 'gtin', value: gtin };\n        }\n\n        // Try product name\n        const name = await this.detectProductName();\n        if (name) {\n            console.log('[ProductDetector] ✓ Found product name:', name);\n            return { type: 'name', value: name };\n        }\n\n        // Try SKU\n        const sku = await this.detectSKU();\n        if (sku) {\n            console.log('[ProductDetector] ✓ Found SKU:', sku);\n            return { type: 'sku', value: sku };\n        }\n\n        // Try product ID from URL\n        const id = await this.detectProductId();\n        if (id) {\n            console.log('[ProductDetector] ✓ Found product ID:', id);\n            return { type: 'id', value: id };\n        }\n\n        console.warn('[ProductDetector] ✗ No product identifier found');\n        return null;\n    }\n\n    /**\n     * Detect GTIN/EAN from various sources\n     */\n    static async detectGTIN() {\n        // Try Schema.org structured data\n        const schemaGtin = this.extractFromSchema();\n        if (schemaGtin) return schemaGtin;\n\n        // Try data attributes\n        const dataGtin = this.extractFromDataAttributes();\n        if (dataGtin) return dataGtin;\n\n        // Try meta tags\n        const metaGtin = this.extractFromMetaTags();\n        if (metaGtin) return metaGtin;\n\n        // Try JSON-LD\n        const jsonLdGtin = this.extractFromJsonLd();\n        if (jsonLdGtin) return jsonLdGtin;\n\n        return null;\n    }\n\n    /**\n     * Extract GTIN from Schema.org microdata\n     */\n    static extractFromSchema() {\n        const gtinSelectors = [\n            '[itemprop=\"gtin\"]',\n            '[itemprop=\"gtin13\"]',\n            '[itemprop=\"gtin12\"]',\n            '[itemprop=\"gtin8\"]',\n            '[itemprop=\"ean\"]'\n        ];\n\n        for (const selector of gtinSelectors) {\n            const element = document.querySelector(selector);\n            if (element) {\n                const gtin = element.content || element.textContent?.trim();\n                if (this.isValidGTIN(gtin)) return gtin;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Extract GTIN from data attributes\n     */\n    static extractFromDataAttributes() {\n        const attributes = ['data-gtin', 'data-ean', 'data-upc', 'data-product-code'];\n\n        for (const attr of attributes) {\n            const element = document.querySelector(`[${attr}]`);\n            if (element) {\n                const gtin = element.getAttribute(attr);\n                if (this.isValidGTIN(gtin)) return gtin;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Extract GTIN from meta tags\n     */\n    static extractFromMetaTags() {\n        const metaNames = ['gtin', 'gtin13', 'product:gtin', 'product:ean'];\n\n        for (const name of metaNames) {\n            const meta = document.querySelector(`meta[property=\"${name}\"], meta[name=\"${name}\"]`);\n            if (meta) {\n                const gtin = meta.content;\n                if (this.isValidGTIN(gtin)) return gtin;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Extract GTIN from JSON-LD structured data\n     */\n    static extractFromJsonLd() {\n        const scripts = document.querySelectorAll('script[type=\"application/ld+json\"]');\n\n        for (const script of scripts) {\n            try {\n                const data = JSON.parse(script.textContent);\n                const gtin = data.gtin || data.gtin13 || data.gtin12 || data.gtin8 || data.ean;\n                if (this.isValidGTIN(gtin)) return gtin;\n\n                // Check nested product\n                if (data['@type'] === 'Product' || data.product) {\n                    const product = data.product || data;\n                    const nestedGtin = product.gtin || product.gtin13 || product.ean;\n                    if (this.isValidGTIN(nestedGtin)) return nestedGtin;\n                }\n            } catch (e) {\n                // Invalid JSON, skip\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Validate GTIN format\n     */\n    static isValidGTIN(gtin) {\n        if (!gtin) return false;\n        const cleaned = String(gtin).replace(/\\D/g, '');\n        return cleaned.length >= 8 && cleaned.length <= 14;\n    }\n\n    /**\n     * Detect product name\n     */\n    static async detectProductName() {\n        // H1 tag\n        const h1 = document.querySelector('h1')?.textContent?.trim();\n        if (h1 && h1.length > 3 && h1.length < 200) return h1;\n\n        // OG title\n        const ogTitle = document.querySelector('meta[property=\"og:title\"]')?.content;\n        if (ogTitle && ogTitle.length > 3) return ogTitle;\n\n        // Schema.org name\n        const schemaName = document.querySelector('[itemprop=\"name\"]')?.textContent?.trim();\n        if (schemaName && schemaName.length > 3) return schemaName;\n\n        return null;\n    }\n\n    /**\n     * Detect SKU\n     */\n    static async detectSKU() {\n        // Data attributes\n        const skuEl = document.querySelector('[data-sku], [data-product-sku]');\n        if (skuEl) {\n            const sku = skuEl.dataset.sku || skuEl.dataset.productSku || skuEl.textContent?.trim();\n            if (sku && sku.length > 0) return sku;\n        }\n\n        // Schema.org SKU\n        const schemaSku = document.querySelector('[itemprop=\"sku\"]');\n        if (schemaSku) {\n            const sku = schemaSku.content || schemaSku.textContent?.trim();\n            if (sku) return sku;\n        }\n\n        return null;\n    }\n\n    /**\n     * Detect product ID from URL\n     */\n    static async detectProductId() {\n        const url = window.location.pathname;\n\n        // Common patterns: /product/123, /p/123, /item/123\n        const patterns = [\n            /\\/product\\/([a-zA-Z0-9-_]+)/,\n            /\\/p\\/([a-zA-Z0-9-_]+)/,\n            /\\/item\\/([a-zA-Z0-9-_]+)/,\n            /\\/([0-9]{4,})/  // Just numbers\n        ];\n\n        for (const pattern of patterns) {\n            const match = url.match(pattern);\n            if (match && match[1]) {\n                return match[1];\n            }\n        }\n\n        return null;\n    }\n}\n\nexport default ProductDetector;\n","/**\n * Product Information Scraper\n * Extracts comprehensive product information from hosting page\n */\n\nclass ProductInfoScraper {\n    constructor() {\n        this.productInfo = {\n            name: null,\n            specs: {},\n            description: null,\n            attributes: {},\n            images: []\n        };\n    }\n\n    /**\n     * Scrape all product information from page\n     */\n    scrape() {\n        console.log('[ProductInfoScraper] Starting product info extraction...');\n\n        this.extractProductName();\n        this.extractDescription();\n        this.extractSpecifications();\n        this.extractAttributes();\n        this.extractImages();\n\n        console.log('[ProductInfoScraper] Extracted:', this.productInfo);\n        return this.productInfo;\n    }\n\n    /**\n     * Extract product name from various sources\n     */\n    extractProductName() {\n        // Try multiple strategies\n        const strategies = [\n            // H1 tag (most common)\n            () => document.querySelector('h1')?.textContent?.trim(),\n\n            // Open Graph title\n            () => document.querySelector('meta[property=\"og:title\"]')?.content,\n\n            // Product name meta\n            () => document.querySelector('meta[name=\"product_name\"]')?.content,\n\n            // Schema.org Product\n            () => {\n                const schema = document.querySelector('[itemtype*=\"schema.org/Product\"]');\n                return schema?.querySelector('[itemprop=\"name\"]')?.textContent?.trim();\n            },\n\n            // Title tag (fallback)\n            () => document.title.split('|')[0].split('-')[0].trim()\n        ];\n\n        for (const strategy of strategies) {\n            try {\n                const name = strategy();\n                if (name && name.length > 0 && name.length < 200) {\n                    this.productInfo.name = name;\n                    console.log('[ProductInfoScraper] Found product name:', name);\n                    return;\n                }\n            } catch (e) {\n                // Try next strategy\n            }\n        }\n    }\n\n    /**\n     * Extract product description\n     */\n    extractDescription() {\n        const strategies = [\n            // Meta description\n            () => document.querySelector('meta[name=\"description\"]')?.content,\n\n            // Open Graph description\n            () => document.querySelector('meta[property=\"og:description\"]')?.content,\n\n            // Common description selectors\n            () => document.querySelector('.product-description')?.textContent?.trim(),\n            () => document.querySelector('#description')?.textContent?.trim(),\n            () => document.querySelector('[class*=\"description\"]')?.textContent?.trim(),\n\n            // Schema.org description\n            () => document.querySelector('[itemprop=\"description\"]')?.textContent?.trim()\n        ];\n\n        for (const strategy of strategies) {\n            try {\n                const desc = strategy();\n                if (desc && desc.length > 10 && desc.length < 1000) {\n                    this.productInfo.description = desc;\n                    console.log('[ProductInfoScraper] Found description');\n                    return;\n                }\n            } catch (e) {\n                // Try next\n            }\n        }\n    }\n\n    /**\n     * Extract technical specifications from tables/lists\n     */\n    extractSpecifications() {\n        const specs = {};\n\n        // Extract from tables\n        const tables = document.querySelectorAll('table[class*=\"spec\"], table[class*=\"specification\"], table.features, table.details');\n        tables.forEach(table => {\n            const rows = table.querySelectorAll('tr');\n            rows.forEach(row => {\n                const cells = row.querySelectorAll('th, td');\n                if (cells.length >= 2) {\n                    const key = cells[0].textContent.trim();\n                    const value = cells[1].textContent.trim();\n                    if (key && value) {\n                        specs[this.normalizeKey(key)] = value;\n                    }\n                }\n            });\n        });\n\n        // Extract from definition lists\n        const dls = document.querySelectorAll('dl[class*=\"spec\"], dl[class*=\"attribute\"], dl.product-info');\n        dls.forEach(dl => {\n            const dts = dl.querySelectorAll('dt');\n            const dds = dl.querySelectorAll('dd');\n            dts.forEach((dt, i) => {\n                if (dds[i]) {\n                    const key = dt.textContent.trim();\n                    const value = dds[i].textContent.trim();\n                    if (key && value) {\n                        specs[this.normalizeKey(key)] = value;\n                    }\n                }\n            });\n        });\n\n        // Extract from structured data attributes\n        const specElements = document.querySelectorAll('[data-spec], [itemprop]');\n        specElements.forEach(el => {\n            const key = el.dataset.spec || el.getAttribute('itemprop');\n            const value = el.textContent?.trim() || el.content;\n            if (key && value) {\n                specs[this.normalizeKey(key)] = value;\n            }\n        });\n\n        if (Object.keys(specs).length > 0) {\n            this.productInfo.specs = specs;\n            console.log('[ProductInfoScraper] Found', Object.keys(specs).length, 'specifications');\n        }\n    }\n\n    /**\n     * Extract product attributes (color, size, etc.)\n     */\n    extractAttributes() {\n        const attrs = {};\n\n        // Color\n        const colorEl = document.querySelector('[data-color], .color-name, [itemprop=\"color\"]');\n        if (colorEl) {\n            attrs.color = colorEl.textContent?.trim() || colorEl.dataset.color;\n        }\n\n        // Size\n        const sizeEl = document.querySelector('[data-size], .size-value, [itemprop=\"size\"]');\n        if (sizeEl) {\n            attrs.size = sizeEl.textContent?.trim() || sizeEl.dataset.size;\n        }\n\n        // Material\n        const materialEl = document.querySelector('[data-material], [itemprop=\"material\"]');\n        if (materialEl) {\n            attrs.material = materialEl.textContent?.trim() || materialEl.dataset.material;\n        }\n\n        // Brand\n        const brandEl = document.querySelector('[itemprop=\"brand\"]');\n        if (brandEl) {\n            attrs.brand = brandEl.textContent?.trim() || brandEl.content;\n        }\n\n        if (Object.keys(attrs).length > 0) {\n            this.productInfo.attributes = attrs;\n            console.log('[ProductInfoScraper] Found attributes:', attrs);\n        }\n    }\n\n    /**\n     * Extract product images\n     */\n    extractImages() {\n        const images = [];\n\n        // Open Graph image\n        const ogImage = document.querySelector('meta[property=\"og:image\"]')?.content;\n        if (ogImage) images.push(ogImage);\n\n        // Product images\n        const imgElements = document.querySelectorAll('.product-image img, [class*=\"product-img\"] img, [itemprop=\"image\"]');\n        imgElements.forEach(img => {\n            const src = img.src || img.dataset.src;\n            if (src && !images.includes(src)) {\n                images.push(src);\n            }\n        });\n\n        this.productInfo.images = images.slice(0, 3); // Limit to first 3\n    }\n\n    /**\n     * Normalize spec key for consistency\n     */\n    normalizeKey(key) {\n        return key.toLowerCase()\n            .replace(/[^\\w\\s]/g, '')\n            .replace(/\\s+/g, '_');\n    }\n}\n\nexport default ProductInfoScraper;\n","/**\n * API Client for backend communication\n */\n\nclass APIClient {\n  constructor(baseUrl) {\n    this.baseUrl = baseUrl || 'http://localhost:3000/api/v1';\n  }\n\n  /**\n   * Ask a question\n   */\n  async askQuestion(locationId, question, productInfo, language = 'nl') {\n    const response = await fetch(`${this.baseUrl}/qa`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        locationId,\n        question,\n        language,\n        // Send product information (could be code, identifier, or context)\n        productCode: productInfo?.productCode || productInfo,\n        productIdentifier: productInfo?.productIdentifier,\n        productContext: productInfo?.productContext\n      })\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({ error: 'Network error' }));\n      throw new Error(error.error || `HTTP ${response.status}`);\n    }\n\n    return await response.json();\n  }\n\n  /**\n   * Get popular questions\n   */\n  async getPopularQuestions(locationId, limit = 5) {\n    const response = await fetch(\n      `${this.baseUrl}/qa/popular/${locationId}?limit=${limit}`\n    );\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    return await response.json();\n  }\n\n  /**\n   * Get Q&A history\n   */\n  async getQAHistory(productCode, limit = 10) {\n    const response = await fetch(\n      `${this.baseUrl}/qa/history/${productCode}?limit=${limit}`\n    );\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    return await response.json();\n  }\n}\n\nexport default APIClient;\n","import ProductDetector from './utils/productDetector.js';\nimport ProductInfoScraper from './utils/productInfoScraper.js';\nimport APIClient from './utils/apiClient.js';\nimport { styles } from './styles.js';\n\n/**\n * Kiyoh AI Q&A Widget - Web Component\n * Liquid Glass UI Design\n */\nclass KiyohAIWidget extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n\n    // State\n    this.state = {\n      locationId: null,\n      productCode: null,\n      productIdentifier: null, // {type, value} from detector\n      productContext: null, // Scraped page info\n      autoDetect: true,\n      language: 'nl',\n      primaryColor: '#00a0dc',\n      showProductInfo: true,\n      apiBaseUrl: null,\n      loading: false,\n      error: null,\n      answer: null,\n      popularQuestions: []\n    };\n\n    this.apiClient = null;\n  }\n\n  static get observedAttributes() {\n    return [\n      'data-location-id',\n      'data-product-code',\n      'data-auto-detect',\n      'data-language',\n      'data-primary-color',\n      'data-show-product-info',\n      'data-api-base-url'\n    ];\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    const mapping = {\n      'data-location-id': 'locationId',\n      'data-product-code': 'productCode',\n      'data-auto-detect': 'autoDetect',\n      'data-language': 'language',\n      'data-primary-color': 'primaryColor',\n      'data-show-product-info': 'showProductInfo',\n      'data-api-base-url': 'apiBaseUrl'\n    };\n\n    const stateKey = mapping[name];\n    if (stateKey) {\n      if (stateKey === 'autoDetect' || stateKey === 'showProductInfo') {\n        this.state[stateKey] = newValue !== 'false';\n      } else {\n        this.state[stateKey] = newValue;\n      }\n    }\n  }\n\n  async connectedCallback() {\n    this.render();\n    await this.initialize();\n  }\n\n  async initialize() {\n    try {\n      // Validate required attributes\n      if (!this.state.locationId) {\n        throw new Error('data-location-id is required');\n      }\n\n      // Initialize API client\n      this.apiClient = new APIClient(\n        this.state.apiBaseUrl || 'https://your-api-domain.com/api/v1'\n      );\n\n      // Scrape product information from page\n      const scraper = new ProductInfoScraper();\n      this.state.productContext = scraper.scrape();\n      console.log('[KiyohAIWidget] Product context:', this.state.productContext);\n\n      // Auto-detect product identifier if enabled\n      if (this.state.autoDetect && !this.state.productCode) {\n        console.log('[KiyohAIWidget] Auto-detecting product...');\n        this.state.productIdentifier = await ProductDetector.detect();\n\n        if (this.state.productIdentifier) {\n          console.log('[KiyohAIWidget] Detected:', this.state.productIdentifier);\n          // Use GTIN if available, otherwise use identifier value\n          if (this.state.productIdentifier.type === 'gtin') {\n            this.state.productCode = this.state.productIdentifier.value;\n          }\n        } else {\n          console.warn('[KiyohAIWidget] Could not detect product identifier');\n        }\n      }\n\n      // Load popular questions\n      await this.loadPopularQuestions();\n\n      this.render();\n    } catch (error) {\n      console.error('[KiyohAIWidget] Initialization error:', error);\n      this.setState({ error: error.message });\n    }\n  }\n\n  async loadPopularQuestions() {\n    try {\n      const response = await this.apiClient.getPopularQuestions(\n        this.state.locationId,\n        5\n      );\n\n      if (response.success && response.data.questions.length > 0) {\n        this.setState({\n          popularQuestions: response.data.questions.slice(0, 5)\n        });\n      }\n    } catch (error) {\n      console.warn('[KiyohAIWidget] Could not load popular questions:', error);\n    }\n  }\n\n  setState(updates) {\n    this.state = { ...this.state, ...updates };\n    this.render();\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n\n    const textarea = this.shadowRoot.querySelector('.question-input');\n    const question = textarea.value.trim();\n\n    if (!question) return;\n\n    // Allow questions even without product code (will use product context/identifier)\n    this.setState({ loading: true, error: null, answer: null });\n\n    try {\n      const response = await this.apiClient.askQuestion(\n        this.state.locationId,\n        question,\n        {\n          productCode: this.state.productCode,\n          productIdentifier: this.state.productIdentifier,\n          productContext: this.state.productContext\n        },\n        this.state.language\n      );\n\n      if (response.success) {\n        this.setState({\n          loading: false,\n          answer: response.data\n        });\n\n        // Scroll to answer\n        setTimeout(() => {\n          const answerEl = this.shadowRoot.querySelector('.answer-section');\n          if (answerEl) {\n            answerEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n          }\n        }, 100);\n      }\n    } catch (error) {\n      console.error('[KiyohAIWidget] Error asking question:', error);\n      this.setState({\n        loading: false,\n        error: error.message || 'Failed to get answer. Please try again.'\n      });\n    } finally {\n      textarea.value = '';\n    }\n  }\n\n  handlePopularQuestionClick(question) {\n    const textarea = this.shadowRoot.querySelector('.question-input');\n    textarea.value = question;\n    textarea.focus();\n\n    // Trigger submit\n    const form = this.shadowRoot.querySelector('form');\n    form.dispatchEvent(new Event('submit'));\n  }\n\n  handleInputChange(e) {\n    const charCounter = this.shadowRoot.querySelector('.char-counter');\n    if (charCounter) {\n      charCounter.textContent = `${e.target.value.length}/500`;\n    }\n  }\n\n  renderStars(rating) {\n    const fullStars = Math.floor(rating / 2);\n    const hasHalfStar = (rating / 2) % 1 >= 0.5;\n    let stars = '★'.repeat(fullStars);\n    if (hasHalfStar) stars += '☆';\n    return stars.padEnd(5, '☆');\n  }\n\n  render() {\n    const { answer, loading, error, popularQuestions } = this.state;\n\n    this.shadowRoot.innerHTML = `\n      <style>${styles}</style>\n      <div class=\"widget-container\">\n        ${error ? `\n          <div class=\"error-message\">\n            ⚠️ ${error}\n          </div>\n        ` : ''}\n\n        ${answer && answer.product && this.state.showProductInfo ? `\n          <div class=\"product-header\">\n            ${answer.product.imageUrl ? `\n              <img src=\"${answer.product.imageUrl}\" alt=\"${answer.product.name}\" class=\"product-image\">\n            ` : ''}\n            <div class=\"product-info\">\n              <div class=\"product-name\">${answer.product.name}</div>\n              <div class=\"product-rating\">\n                <span class=\"stars\">${this.renderStars(answer.product.rating)}</span>\n                <span>${answer.product.rating}/10</span>\n                <span>•</span>\n                <span>${answer.product.reviewCount} reviews</span>\n              </div>\n            </div>\n          </div>\n        ` : ''}\n\n        <form>\n          <div class=\"question-input-container\">\n            <label class=\"input-label\">Stel je vraag over dit product</label>\n            <textarea\n              class=\"question-input\"\n              placeholder=\"Bijvoorbeeld: Hoe stil is dit apparaat?\"\n              maxlength=\"500\"\n              rows=\"3\"\n            ></textarea>\n            <div class=\"char-counter\">0/500</div>\n          </div>\n\n          <button type=\"submit\" class=\"ask-button\" ${loading ? 'disabled' : ''}>\n            ${loading ? 'Even geduld...' : 'Stel vraag'}\n          </button>\n        </form>\n\n        ${loading ? `\n          <div class=\"loading\">\n            <div class=\"spinner\"></div>\n            <span>AI analyseert reviews...</span>\n          </div>\n        ` : ''}\n\n        ${answer ? `\n          <div class=\"answer-container\">\n            <div class=\"answer-header\">\n              <div class=\"ai-icon\">AI</div>\n              <span class=\"answer-title\">Antwoord gebaseerd op ${answer.product.reviewCount} reviews</span>\n              <span class=\"confidence-badge confidence-${answer.confidence}\">${answer.confidence}</span>\n            </div>\n            <div class=\"answer-text\">${answer.answer}</div>\n\n            ${answer.relevantReviews && answer.relevantReviews.length > 0 ? `\n              <div class=\"review-snippets\">\n                <div class=\"snippets-title\">Relevante klantreviews</div>\n                ${answer.relevantReviews.map(review => `\n                  <div class=\"review-snippet\">\n                    <div class=\"review-rating\">${this.renderStars(review.rating)} ${review.rating}/10</div>\n                    <div class=\"review-text\">\"${review.excerpt}\"</div>\n                    <div class=\"review-author\">— ${review.author}</div>\n                  </div>\n                `).join('')}\n              </div>\n            ` : ''}\n          </div>\n        ` : ''}\n\n        ${!answer && !loading && popularQuestions.length > 0 ? `\n          <div class=\"popular-questions\">\n            <div class=\"popular-title\">💡 Veelgestelde vragen</div>\n            <div class=\"question-buttons\">\n              ${popularQuestions.map((q, i) => `\n                <button type=\"button\" class=\"question-button\" data-question=\"${q.question}\" data-index=\"${i}\">\n                  ${q.question}\n                </button>\n              `).join('')}\n            </div>\n          </div>\n        ` : ''}\n      </div>\n    `;\n\n    // Attach event listeners\n    const form = this.shadowRoot.querySelector('form');\n    if (form) {\n      form.addEventListener('submit', (e) => this.handleSubmit(e));\n    }\n\n    const textarea = this.shadowRoot.querySelector('.question-input');\n    if (textarea) {\n      textarea.addEventListener('input', (e) => this.handleInputChange(e));\n    }\n\n    const questionButtons = this.shadowRoot.querySelectorAll('.question-button');\n    questionButtons.forEach((btn, index) => {\n      btn.addEventListener('click', () => {\n        const question = popularQuestions[index]?.question;\n        if (question) {\n          this.handlePopularQuestionClick(question);\n        }\n      });\n    });\n  }\n}\n\n// Register the custom element\ncustomElements.define('kiyoh-ai-widget', KiyohAIWidget);\n\nexport default KiyohAIWidget;\n","/**\n * Liquid Glass UI Styles\n * Modern glassmorphism design with smooth animations\n */\n\nexport const styles = `\n  :host {\n    --primary-color: var(--kiyoh-primary, #00a0dc);\n    --primary-rgb: 0, 160, 220;\n    --glass-bg: rgba(255, 255, 255, 0.7);\n    --glass-border: rgba(255, 255, 255, 0.3);\n    --glass-shadow: rgba(0, 0, 0, 0.1);\n    --text-primary: #1a1a1a;\n    --text-secondary: #666;\n    --border-radius: 20px;\n    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\n    display: block;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;\n    font-size: 16px;\n    line-height: 1.5;\n    color: var(--text-primary);\n  }\n\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  .widget-container {\n    background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.7) 100%);\n    backdrop-filter: blur(20px) saturate(180%);\n    -webkit-backdrop-filter: blur(20px) saturate(180%);\n    border: 1px solid var(--glass-border);\n    border-radius: var(--border-radius);\n    padding: 2rem;\n    max-width: 800px;\n    margin: 0 auto;\n    box-shadow:\n      0 8px 32px var(--glass-shadow),\n      0 2px 8px rgba(0, 0, 0, 0.05),\n      inset 0 1px 0 rgba(255, 255, 255, 0.8);\n    position: relative;\n    overflow: hidden;\n  }\n\n  .widget-container::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 2px;\n    background: linear-gradient(90deg,\n      transparent,\n      var(--primary-color),\n      transparent\n    );\n    opacity: 0.5;\n  }\n\n  .product-header {\n    display: flex;\n    align-items: center;\n    gap: 1.5rem;\n    padding: 1.5rem;\n    background: linear-gradient(135deg, rgba(var(--primary-rgb), 0.05) 0%, rgba(var(--primary-rgb), 0.02) 100%);\n    border-radius: 16px;\n    border: 1px solid rgba(var(--primary-rgb), 0.1);\n    margin-bottom: 2rem;\n    transition: var(--transition);\n  }\n\n  .product-header:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 24px rgba(var(--primary-rgb), 0.15);\n  }\n\n  .product-image {\n    width: 80px;\n    height: 80px;\n    border-radius: 12px;\n    object-fit: cover;\n    border: 2px solid rgba(255, 255, 255, 0.8);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  }\n\n  .product-info {\n    flex: 1;\n  }\n\n  .product-name {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: var(--text-primary);\n    margin-bottom: 0.5rem;\n  }\n\n  .product-rating {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    font-size: 0.9rem;\n    color: var(--text-secondary);\n  }\n\n  .stars {\n    color: #fbbf24;\n    font-size: 1.1rem;\n  }\n\n  .question-input-container {\n    margin-bottom: 2rem;\n  }\n\n  .input-label {\n    display: block;\n    font-weight: 600;\n    color: var(--text-primary);\n    margin-bottom: 0.75rem;\n    font-size: 1rem;\n  }\n\n  .question-input {\n    width: 100%;\n    padding: 1rem 1.25rem;\n    border: 2px solid transparent;\n    border-radius: 14px;\n    background: rgba(255, 255, 255, 0.9);\n    backdrop-filter: blur(10px);\n    font-size: 1rem;\n    font-family: inherit;\n    color: var(--text-primary);\n    transition: var(--transition);\n    resize: vertical;\n    min-height: 100px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  }\n\n  .question-input:focus {\n    outline: none;\n    border-color: var(--primary-color);\n    box-shadow:\n      0 4px 16px rgba(var(--primary-rgb), 0.2),\n      0 0 0 4px rgba(var(--primary-rgb), 0.1);\n    background: rgba(255, 255, 255, 1);\n  }\n\n  .question-input::placeholder {\n    color: var(--text-secondary);\n    opacity: 0.6;\n  }\n\n  .char-counter {\n    text-align: right;\n    font-size: 0.85rem;\n    color: var(--text-secondary);\n    margin-top: 0.5rem;\n  }\n\n  .ask-button {\n    width: 100%;\n    padding: 1rem 2rem;\n    border: none;\n    border-radius: 14px;\n    background: linear-gradient(135deg, var(--primary-color) 0%, rgba(var(--primary-rgb), 0.8) 100%);\n    color: white;\n    font-size: 1rem;\n    font-weight: 600;\n    cursor: pointer;\n    transition: var(--transition);\n    box-shadow:\n      0 4px 16px rgba(var(--primary-rgb), 0.3),\n      inset 0 1px 0 rgba(255, 255, 255, 0.2);\n    position: relative;\n    overflow: hidden;\n  }\n\n  .ask-button::before {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 0;\n    height: 0;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.3);\n    transform: translate(-50%, -50%);\n    transition: width 0.6s, height 0.6s;\n  }\n\n  .ask-button:hover::before {\n    width: 300px;\n    height: 300px;\n  }\n\n  .ask-button:hover {\n    transform: translateY(-2px);\n    box-shadow:\n      0 8px 24px rgba(var(--primary-rgb), 0.4),\n      inset 0 1px 0 rgba(255, 255, 255, 0.3);\n  }\n\n  .ask-button:active {\n    transform: translateY(0);\n  }\n\n  .ask-button:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n\n  .loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.75rem;\n    padding: 2rem;\n  }\n\n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 3px solid rgba(var(--primary-rgb), 0.2);\n    border-top-color: var(--primary-color);\n    border-radius: 50%;\n    animation: spin 0.8s linear infinite;\n  }\n\n  @keyframes spin {\n    to { transform: rotate(360deg); }\n  }\n\n  .answer-container {\n    background: linear-gradient(135deg, rgba(var(--primary-rgb), 0.03) 0%, rgba(255, 255, 255, 0.5) 100%);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(var(--primary-rgb), 0.15);\n    border-radius: 16px;\n    padding: 1.5rem;\n    margin-bottom: 1.5rem;\n    animation: slideIn 0.5s ease-out;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);\n  }\n\n  @keyframes slideIn {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  .answer-header {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    margin-bottom: 1rem;\n  }\n\n  .ai-icon {\n    width: 32px;\n    height: 32px;\n    background: linear-gradient(135deg, var(--primary-color) 0%, rgba(var(--primary-rgb), 0.7) 100%);\n    border-radius: 8px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: white;\n    font-weight: bold;\n    box-shadow: 0 2px 8px rgba(var(--primary-rgb), 0.3);\n  }\n\n  .answer-title {\n    font-weight: 600;\n    color: var(--text-primary);\n    font-size: 1rem;\n  }\n\n  .confidence-badge {\n    margin-left: auto;\n    padding: 0.25rem 0.75rem;\n    border-radius: 20px;\n    font-size: 0.75rem;\n    font-weight: 600;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n  }\n\n  .confidence-high {\n    background: rgba(16, 185, 129, 0.15);\n    color: #059669;\n    border: 1px solid rgba(16, 185, 129, 0.3);\n  }\n\n  .confidence-medium {\n    background: rgba(251, 191, 36, 0.15);\n    color: #d97706;\n    border: 1px solid rgba(251, 191, 36, 0.3);\n  }\n\n  .confidence-low {\n    background: rgba(239, 68, 68, 0.15);\n    color: #dc2626;\n    border: 1px solid rgba(239, 68, 68, 0.3);\n  }\n\n  .answer-text {\n    font-size: 1rem;\n    line-height: 1.7;\n    color: var(--text-primary);\n  }\n\n  .review-snippets {\n    margin-top: 2rem;\n  }\n\n  .snippets-title {\n    font-size: 0.9rem;\n    font-weight: 600;\n    color: var(--text-secondary);\n    margin-bottom: 1rem;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n  }\n\n  .review-snippet {\n    background: rgba(255, 255, 255, 0.8);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(0, 0, 0, 0.06);\n    border-radius: 12px;\n    padding: 1rem;\n    margin-bottom: 0.75rem;\n    transition: var(--transition);\n  }\n\n  .review-snippet:hover {\n    transform: translateX(4px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  }\n\n  .review-rating {\n    color: #fbbf24;\n    font-weight: 600;\n    margin-bottom: 0.5rem;\n  }\n\n  .review-text {\n    font-size: 0.95rem;\n    color: var(--text-primary);\n    line-height: 1.6;\n    margin-bottom: 0.5rem;\n  }\n\n  .review-author {\n    font-size: 0.85rem;\n    color: var(--text-secondary);\n    font-style: italic;\n  }\n\n  .popular-questions {\n    margin-top: 2rem;\n  }\n\n  .popular-title {\n    font-size: 1rem;\n    font-weight: 600;\n    color: var(--text-primary);\n    margin-bottom: 1rem;\n  }\n\n  .question-buttons {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.75rem;\n  }\n\n  .question-button {\n    padding: 0.6rem 1.2rem;\n    border: 1px solid rgba(var(--primary-rgb), 0.2);\n    border-radius: 24px;\n    background: rgba(255, 255, 255, 0.8);\n    backdrop-filter: blur(10px);\n    color: var(--text-primary);\n    font-size: 0.9rem;\n    cursor: pointer;\n    transition: var(--transition);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  }\n\n  .question-button:hover {\n    background: var(--primary-color);\n    color: white;\n    border-color: var(--primary-color);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.3);\n  }\n\n  .error-message {\n    background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);\n    border: 1px solid rgba(239, 68, 68, 0.3);\n    border-radius: 12px;\n    padding: 1.25rem;\n    color: #dc2626;\n    margin-bottom: 1.5rem;\n    animation: shake 0.5s;\n  }\n\n  @keyframes shake {\n    0%, 100% { transform: translateX(0); }\n    25% { transform: translateX(-10px); }\n    75% { transform: translateX(10px); }\n  }\n\n  .hidden {\n    display: none;\n  }\n\n  @media (max-width: 768px) {\n    .widget-container {\n      padding: 1.5rem;\n      border-radius: 16px;\n    }\n\n    .product-header {\n      flex-direction: column;\n      text-align: center;\n    }\n\n    .product-image {\n      width: 100px;\n      height: 100px;\n    }\n\n    .question-input {\n      font-size: 16px; /* Prevent zoom on iOS */\n    }\n  }\n`;\n","/**\n * Kiyoh AI Q&A Widget - Entry Point\n * Version: 1.0.0\n */\n\nimport KiyohAIWidget from './KiyohAIWidget.js';\n\n// Auto-initialize on DOM ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', init);\n} else {\n  init();\n}\n\nfunction init() {\n  console.log('[Kiyoh AI Widget] Initialized');\n}\n\n// Export for module usage\nexport { KiyohAIWidget };\n"],"names":["root","factory","exports","module","define","amd","this","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","return","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperties","_toPropertyKey","key","_typeof","toPrimitive","String","Number","_toPrimitive","ProductDetector","_classCallCheck","_detect","_callee","gtin","name","sku","id","_context","detectGTIN","type","detectProductName","detectSKU","detectProductId","_detectGTIN","_callee2","schemaGtin","dataGtin","metaGtin","jsonLdGtin","_context2","extractFromSchema","extractFromDataAttributes","extractFromMetaTags","extractFromJsonLd","_i","_gtinSelectors","selector","element","document","querySelector","_element$textContent","content","textContent","trim","isValidGTIN","_i2","_attributes","attr","concat","getAttribute","_i3","_metaNames","meta","_step","_iterator","_createForOfIteratorHelper","querySelectorAll","s","script","data","JSON","parse","gtin13","gtin12","gtin8","ean","product","nestedGtin","err","cleaned","replace","_detectProductName","_callee3","_document$querySelect","_document$querySelect2","_document$querySelect3","h1","ogTitle","schemaName","_context3","_detectSKU","_callee4","skuEl","_skuEl$textContent","schemaSku","_schemaSku$textConten","_sku","_context4","dataset","productSku","_detectProductId","_callee5","url","_i4","_patterns","pattern","match","_context5","window","location","pathname","ProductInfoScraper","productInfo","specs","description","attributes","images","extractProductName","extractDescription","extractSpecifications","extractAttributes","extractImages","_strategies","_schema$querySelector","schema","title","split","strategy","_strategies2","_document$querySelect4","_document$querySelect5","_document$querySelect6","_document$querySelect7","_document$querySelect8","_document$querySelect9","desc","_this","forEach","table","row","cells","normalizeKey","dl","dts","dds","dt","el","_el$textContent","spec","keys","_colorEl$textContent","attrs","colorEl","color","_sizeEl$textContent","sizeEl","size","_materialEl$textConte","materialEl","material","_brandEl$textContent","brandEl","brand","_document$querySelect0","ogImage","push","img","src","includes","slice","toLowerCase","APIClient","baseUrl","_askQuestion","locationId","question","language","response","error","_args","undefined","fetch","method","headers","body","stringify","productCode","productIdentifier","productContext","ok","json","catch","Error","status","_x","_x2","_x3","_getPopularQuestions","limit","_args2","_x4","_getQAHistory","_args3","_x5","_callSuper","_getPrototypeOf","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_wrapNativeSuper","Map","Function","toString","indexOf","_isNativeFunction","has","get","set","Wrapper","_setPrototypeOf","_construct","Boolean","valueOf","KiyohAIWidget","_HTMLElement","attachShadow","mode","state","autoDetect","primaryColor","showProductInfo","apiBaseUrl","loading","answer","popularQuestions","apiClient","_inherits","oldValue","newValue","stateKey","_connectedCallback","render","initialize","_initialize","scraper","_t","scrape","detect","loadPopularQuestions","setState","message","_loadPopularQuestions","getPopularQuestions","success","questions","updates","_objectSpread","_handleSubmit","textarea","_t3","_this2","preventDefault","shadowRoot","askQuestion","setTimeout","answerEl","scrollIntoView","behavior","block","focus","dispatchEvent","Event","charCounter","target","rating","fullStars","Math","floor","hasHalfStar","stars","repeat","padEnd","_this3","_this$state","innerHTML","imageUrl","renderStars","reviewCount","confidence","relevantReviews","map","review","excerpt","author","join","q","form","addEventListener","handleSubmit","handleInputChange","btn","index","_popularQuestions$ind","handlePopularQuestionClick","HTMLElement","customElements","init","readyState"],"ignoreList":[],"sourceRoot":""}