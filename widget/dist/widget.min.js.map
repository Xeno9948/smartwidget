{"version":3,"file":"widget.min.js","mappings":"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","sources":["webpack://KiyohAIWidget/webpack/universalModuleDefinition","webpack://KiyohAIWidget/./src/utils/gtinDetector.js","webpack://KiyohAIWidget/./src/utils/apiClient.js","webpack://KiyohAIWidget/./src/KiyohAIWidget.js","webpack://KiyohAIWidget/./src/styles.js","webpack://KiyohAIWidget/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"KiyohAIWidget\"] = factory();\n\telse\n\t\troot[\"KiyohAIWidget\"] = factory();\n})(this, () => {\nreturn ","/**\n * GTIN Auto-Detection Utility\n * Automatically detects GTIN/EAN from various sources on the page\n */\n\nclass GTINDetector {\n  /**\n   * Main detection method - tries all strategies\n   */\n  static async detect() {\n    const strategies = [\n      this.detectFromJSONLD,\n      this.detectFromMetaTags,\n      this.detectFromMicrodata,\n      this.detectFromDataAttributes,\n      this.detectFromPlatformSpecific\n    ];\n\n    for (const strategy of strategies) {\n      try {\n        const gtin = await strategy.call(this);\n        if (gtin && this.validateGTIN(gtin)) {\n          console.log(`[GTINDetector] Found GTIN: ${gtin} using ${strategy.name}`);\n          return gtin;\n        }\n      } catch (error) {\n        console.warn(`[GTINDetector] Error in ${strategy.name}:`, error);\n      }\n    }\n\n    console.warn('[GTINDetector] No valid GTIN found');\n    return null;\n  }\n\n  /**\n   * Strategy 1: JSON-LD structured data (Schema.org)\n   */\n  static detectFromJSONLD() {\n    const scripts = document.querySelectorAll('script[type=\"application/ld+json\"]');\n\n    for (const script of scripts) {\n      try {\n        const data = JSON.parse(script.textContent);\n        const gtin = this.findGTINInObject(data);\n        if (gtin) return gtin;\n      } catch (error) {\n        continue;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Recursively search for GTIN fields in JSON object\n   */\n  static findGTINInObject(obj) {\n    if (!obj || typeof obj !== 'object') return null;\n\n    const gtinFields = ['gtin', 'gtin13', 'gtin12', 'gtin14', 'gtin8', 'ean', 'isbn'];\n\n    for (const field of gtinFields) {\n      if (obj[field]) return String(obj[field]);\n    }\n\n    // Search in nested objects and arrays\n    for (const key in obj) {\n      if (typeof obj[key] === 'object') {\n        const result = this.findGTINInObject(obj[key]);\n        if (result) return result;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Strategy 2: Meta tags\n   */\n  static detectFromMetaTags() {\n    const metaSelectors = [\n      'meta[property=\"product:gtin\"]',\n      'meta[property=\"og:product:gtin\"]',\n      'meta[property=\"product:ean\"]',\n      'meta[name=\"gtin\"]',\n      'meta[name=\"gtin13\"]',\n      'meta[name=\"ean\"]',\n      'meta[itemprop=\"gtin\"]',\n      'meta[itemprop=\"gtin13\"]'\n    ];\n\n    for (const selector of metaSelectors) {\n      const meta = document.querySelector(selector);\n      if (meta) {\n        const content = meta.getAttribute('content');\n        if (content) return content;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Strategy 3: Microdata attributes\n   */\n  static detectFromMicrodata() {\n    const microdataSelectors = [\n      '[itemprop=\"gtin\"]',\n      '[itemprop=\"gtin13\"]',\n      '[itemprop=\"gtin12\"]',\n      '[itemprop=\"gtin14\"]',\n      '[itemprop=\"gtin8\"]',\n      '[itemprop=\"ean\"]'\n    ];\n\n    for (const selector of microdataSelectors) {\n      const element = document.querySelector(selector);\n      if (element) {\n        const value = element.getAttribute('content') || element.textContent;\n        if (value) return value.trim();\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Strategy 4: Data attributes\n   */\n  static detectFromDataAttributes() {\n    const dataSelectors = [\n      '[data-gtin]',\n      '[data-ean]',\n      '[data-product-gtin]',\n      '[data-product-ean]',\n      '[data-product-code]'\n    ];\n\n    for (const selector of dataSelectors) {\n      const element = document.querySelector(selector);\n      if (element) {\n        const attrs = ['data-gtin', 'data-ean', 'data-product-gtin', 'data-product-ean', 'data-product-code'];\n        for (const attr of attrs) {\n          const value = element.getAttribute(attr);\n          if (value) return value;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Strategy 5: Platform-specific selectors\n   */\n  static detectFromPlatformSpecific() {\n    // WooCommerce\n    const wooSku = document.querySelector('.product_meta .sku');\n    if (wooSku && this.looksLikeGTIN(wooSku.textContent)) {\n      return wooSku.textContent.trim();\n    }\n\n    // Shopify\n    if (window.ShopifyAnalytics?.meta?.product?.variants) {\n      const sku = window.ShopifyAnalytics.meta.product.variants[0]?.sku;\n      if (sku && this.looksLikeGTIN(sku)) return sku;\n    }\n\n    // Magento\n    if (window.dlv_dataLayer?.product?.sku) {\n      const sku = window.dlv_dataLayer.product.sku;\n      if (this.looksLikeGTIN(sku)) return sku;\n    }\n\n    // Lightspeed\n    const lightspeedEan = document.querySelector('.product-ean, .product__ean');\n    if (lightspeedEan) return lightspeedEan.textContent.trim();\n\n    return null;\n  }\n\n  /**\n   * Check if a string looks like a GTIN (8, 12, 13, or 14 digits)\n   */\n  static looksLikeGTIN(str) {\n    if (!str) return false;\n    const digits = str.replace(/\\D/g, '');\n    return [8, 12, 13, 14].includes(digits.length);\n  }\n\n  /**\n   * Validate GTIN format and checksum\n   */\n  static validateGTIN(gtin) {\n    if (!gtin) return false;\n\n    // Remove any non-digit characters\n    const digits = String(gtin).replace(/\\D/g, '');\n\n    // Check length (8, 12, 13, or 14 digits)\n    if (![8, 12, 13, 14].includes(digits.length)) {\n      return false;\n    }\n\n    // Validate checksum (GS1 algorithm)\n    return this.validateChecksum(digits);\n  }\n\n  /**\n   * Validate GTIN checksum using GS1 algorithm\n   */\n  static validateChecksum(digits) {\n    const arr = digits.split('').map(Number);\n    const checkDigit = arr.pop();\n\n    let sum = 0;\n    for (let i = arr.length - 1; i >= 0; i--) {\n      const multiplier = (arr.length - i) % 2 === 0 ? 3 : 1;\n      sum += arr[i] * multiplier;\n    }\n\n    const calculatedCheck = (10 - (sum % 10)) % 10;\n    return calculatedCheck === checkDigit;\n  }\n}\n\nexport default GTINDetector;\n","/**\n * API Client for backend communication\n */\n\nclass APIClient {\n  constructor(baseUrl) {\n    this.baseUrl = baseUrl || 'http://localhost:3000/api/v1';\n  }\n\n  /**\n   * Ask a question\n   */\n  async askQuestion(locationId, apiToken, question, productCode, language = 'nl') {\n    const response = await fetch(`${this.baseUrl}/qa`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Api-Token': apiToken\n      },\n      body: JSON.stringify({\n        locationId,\n        productCode,\n        question,\n        language,\n        apiToken\n      })\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({ error: 'Network error' }));\n      throw new Error(error.error || `HTTP ${response.status}`);\n    }\n\n    return await response.json();\n  }\n\n  /**\n   * Get popular questions\n   */\n  async getPopularQuestions(locationId, limit = 5) {\n    const response = await fetch(\n      `${this.baseUrl}/qa/popular/${locationId}?limit=${limit}`\n    );\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    return await response.json();\n  }\n\n  /**\n   * Get Q&A history\n   */\n  async getQAHistory(productCode, limit = 10) {\n    const response = await fetch(\n      `${this.baseUrl}/qa/history/${productCode}?limit=${limit}`\n    );\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    return await response.json();\n  }\n}\n\nexport default APIClient;\n","import GTINDetector from './utils/gtinDetector.js';\nimport APIClient from './utils/apiClient.js';\nimport { styles } from './styles.js';\n\n/**\n * Kiyoh AI Q&A Widget - Web Component\n * Liquid Glass UI Design\n */\nclass KiyohAIWidget extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n\n    // State\n    this.state = {\n      locationId: null,\n      apiToken: null,\n      productCode: null,\n      autoDetect: true,\n      language: 'nl',\n      primaryColor: '#00a0dc',\n      showProductInfo: true,\n      apiBaseUrl: null,\n      loading: false,\n      error: null,\n      answer: null,\n      popularQuestions: []\n    };\n\n    this.apiClient = null;\n  }\n\n  static get observedAttributes() {\n    return [\n      'data-location-id',\n      'data-api-token',\n      'data-product-code',\n      'data-auto-detect',\n      'data-language',\n      'data-primary-color',\n      'data-show-product-info',\n      'data-api-base-url'\n    ];\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    const mapping = {\n      'data-location-id': 'locationId',\n      'data-api-token': 'apiToken',\n      'data-product-code': 'productCode',\n      'data-auto-detect': 'autoDetect',\n      'data-language': 'language',\n      'data-primary-color': 'primaryColor',\n      'data-show-product-info': 'showProductInfo',\n      'data-api-base-url': 'apiBaseUrl'\n    };\n\n    const stateKey = mapping[name];\n    if (stateKey) {\n      if (stateKey === 'autoDetect' || stateKey === 'showProductInfo') {\n        this.state[stateKey] = newValue !== 'false';\n      } else {\n        this.state[stateKey] = newValue;\n      }\n    }\n  }\n\n  async connectedCallback() {\n    this.render();\n    await this.initialize();\n  }\n\n  async initialize() {\n    try {\n      // Validate required attributes\n      if (!this.state.locationId) {\n        throw new Error('data-location-id is required');\n      }\n\n      if (!this.state.apiToken) {\n        throw new Error('data-api-token is required');\n      }\n\n      // Initialize API client\n      this.apiClient = new APIClient(\n        this.state.apiBaseUrl || 'https://your-api-domain.com/api/v1'\n      );\n\n      // Auto-detect GTIN if enabled\n      if (this.state.autoDetect && !this.state.productCode) {\n        console.log('[KiyohAIWidget] Auto-detecting GTIN...');\n        this.state.productCode = await GTINDetector.detect();\n\n        if (!this.state.productCode) {\n          console.warn('[KiyohAIWidget] Could not auto-detect GTIN');\n        } else {\n          console.log('[KiyohAIWidget] Detected GTIN:', this.state.productCode);\n        }\n      }\n\n      // Load popular questions\n      await this.loadPopularQuestions();\n\n      this.render();\n    } catch (error) {\n      console.error('[KiyohAIWidget] Initialization error:', error);\n      this.setState({ error: error.message });\n    }\n  }\n\n  async loadPopularQuestions() {\n    try {\n      const response = await this.apiClient.getPopularQuestions(\n        this.state.locationId,\n        5\n      );\n\n      if (response.success && response.data.questions.length > 0) {\n        this.setState({\n          popularQuestions: response.data.questions.slice(0, 5)\n        });\n      }\n    } catch (error) {\n      console.warn('[KiyohAIWidget] Could not load popular questions:', error);\n    }\n  }\n\n  setState(updates) {\n    this.state = { ...this.state, ...updates };\n    this.render();\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n\n    const textarea = this.shadowRoot.querySelector('.question-input');\n    const question = textarea.value.trim();\n\n    if (!question) return;\n\n    if (!this.state.productCode) {\n      this.setState({\n        error: 'Product code (GTIN) not found. Please add data-product-code attribute.'\n      });\n      return;\n    }\n\n    this.setState({ loading: true, error: null, answer: null });\n\n    try {\n      const response = await this.apiClient.askQuestion(\n        this.state.locationId,\n        this.state.apiToken,\n        question,\n        this.state.productCode,\n        this.state.language\n      );\n\n      if (response.success) {\n        this.setState({\n          loading: false,\n          answer: response.data\n        });\n\n        // Scroll to answer\n        setTimeout(() => {\n          const answerEl = this.shadowRoot.querySelector('.answer-container');\n          if (answerEl) {\n            answerEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n          }\n        }, 100);\n      }\n    } catch (error) {\n      console.error('[KiyohAIWidget] Error asking question:', error);\n      this.setState({\n        loading: false,\n        error: error.message || 'Failed to get answer. Please try again.'\n      });\n    }\n  }\n\n  handlePopularQuestionClick(question) {\n    const textarea = this.shadowRoot.querySelector('.question-input');\n    textarea.value = question;\n    textarea.focus();\n\n    // Trigger submit\n    const form = this.shadowRoot.querySelector('form');\n    form.dispatchEvent(new Event('submit'));\n  }\n\n  handleInputChange(e) {\n    const charCounter = this.shadowRoot.querySelector('.char-counter');\n    if (charCounter) {\n      charCounter.textContent = `${e.target.value.length}/500`;\n    }\n  }\n\n  renderStars(rating) {\n    const fullStars = Math.floor(rating / 2);\n    const hasHalfStar = (rating / 2) % 1 >= 0.5;\n    let stars = '‚òÖ'.repeat(fullStars);\n    if (hasHalfStar) stars += '‚òÜ';\n    return stars.padEnd(5, '‚òÜ');\n  }\n\n  render() {\n    const { answer, loading, error, popularQuestions } = this.state;\n\n    this.shadowRoot.innerHTML = `\n      <style>${styles}</style>\n      <div class=\"widget-container\">\n        ${error ? `\n          <div class=\"error-message\">\n            ‚ö†Ô∏è ${error}\n          </div>\n        ` : ''}\n\n        ${answer && answer.product && this.state.showProductInfo ? `\n          <div class=\"product-header\">\n            ${answer.product.imageUrl ? `\n              <img src=\"${answer.product.imageUrl}\" alt=\"${answer.product.name}\" class=\"product-image\">\n            ` : ''}\n            <div class=\"product-info\">\n              <div class=\"product-name\">${answer.product.name}</div>\n              <div class=\"product-rating\">\n                <span class=\"stars\">${this.renderStars(answer.product.rating)}</span>\n                <span>${answer.product.rating}/10</span>\n                <span>‚Ä¢</span>\n                <span>${answer.product.reviewCount} reviews</span>\n              </div>\n            </div>\n          </div>\n        ` : ''}\n\n        <form>\n          <div class=\"question-input-container\">\n            <label class=\"input-label\">Stel je vraag over dit product</label>\n            <textarea\n              class=\"question-input\"\n              placeholder=\"Bijvoorbeeld: Hoe stil is dit apparaat?\"\n              maxlength=\"500\"\n              rows=\"3\"\n            ></textarea>\n            <div class=\"char-counter\">0/500</div>\n          </div>\n\n          <button type=\"submit\" class=\"ask-button\" ${loading ? 'disabled' : ''}>\n            ${loading ? 'Even geduld...' : 'Stel vraag'}\n          </button>\n        </form>\n\n        ${loading ? `\n          <div class=\"loading\">\n            <div class=\"spinner\"></div>\n            <span>AI analyseert reviews...</span>\n          </div>\n        ` : ''}\n\n        ${answer ? `\n          <div class=\"answer-container\">\n            <div class=\"answer-header\">\n              <div class=\"ai-icon\">AI</div>\n              <span class=\"answer-title\">Antwoord gebaseerd op ${answer.product.reviewCount} reviews</span>\n              <span class=\"confidence-badge confidence-${answer.confidence}\">${answer.confidence}</span>\n            </div>\n            <div class=\"answer-text\">${answer.answer}</div>\n\n            ${answer.relevantReviews && answer.relevantReviews.length > 0 ? `\n              <div class=\"review-snippets\">\n                <div class=\"snippets-title\">Relevante klantreviews</div>\n                ${answer.relevantReviews.map(review => `\n                  <div class=\"review-snippet\">\n                    <div class=\"review-rating\">${this.renderStars(review.rating)} ${review.rating}/10</div>\n                    <div class=\"review-text\">\"${review.excerpt}\"</div>\n                    <div class=\"review-author\">‚Äî ${review.author}</div>\n                  </div>\n                `).join('')}\n              </div>\n            ` : ''}\n          </div>\n        ` : ''}\n\n        ${!answer && !loading && popularQuestions.length > 0 ? `\n          <div class=\"popular-questions\">\n            <div class=\"popular-title\">üí° Veelgestelde vragen</div>\n            <div class=\"question-buttons\">\n              ${popularQuestions.map((q, i) => `\n                <button type=\"button\" class=\"question-button\" data-question=\"${q.question}\" data-index=\"${i}\">\n                  ${q.question}\n                </button>\n              `).join('')}\n            </div>\n          </div>\n        ` : ''}\n      </div>\n    `;\n\n    // Attach event listeners\n    const form = this.shadowRoot.querySelector('form');\n    if (form) {\n      form.addEventListener('submit', (e) => this.handleSubmit(e));\n    }\n\n    const textarea = this.shadowRoot.querySelector('.question-input');\n    if (textarea) {\n      textarea.addEventListener('input', (e) => this.handleInputChange(e));\n    }\n\n    const questionButtons = this.shadowRoot.querySelectorAll('.question-button');\n    questionButtons.forEach((btn, index) => {\n      btn.addEventListener('click', () => {\n        const question = popularQuestions[index]?.question;\n        if (question) {\n          this.handlePopularQuestionClick(question);\n        }\n      });\n    });\n  }\n}\n\n// Register the custom element\ncustomElements.define('kiyoh-ai-widget', KiyohAIWidget);\n\nexport default KiyohAIWidget;\n","/**\n * Liquid Glass UI Styles\n * Modern glassmorphism design with smooth animations\n */\n\nexport const styles = `\n  :host {\n    --primary-color: var(--kiyoh-primary, #00a0dc);\n    --primary-rgb: 0, 160, 220;\n    --glass-bg: rgba(255, 255, 255, 0.7);\n    --glass-border: rgba(255, 255, 255, 0.3);\n    --glass-shadow: rgba(0, 0, 0, 0.1);\n    --text-primary: #1a1a1a;\n    --text-secondary: #666;\n    --border-radius: 20px;\n    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\n    display: block;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;\n    font-size: 16px;\n    line-height: 1.5;\n    color: var(--text-primary);\n  }\n\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  .widget-container {\n    background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.7) 100%);\n    backdrop-filter: blur(20px) saturate(180%);\n    -webkit-backdrop-filter: blur(20px) saturate(180%);\n    border: 1px solid var(--glass-border);\n    border-radius: var(--border-radius);\n    padding: 2rem;\n    max-width: 800px;\n    margin: 0 auto;\n    box-shadow:\n      0 8px 32px var(--glass-shadow),\n      0 2px 8px rgba(0, 0, 0, 0.05),\n      inset 0 1px 0 rgba(255, 255, 255, 0.8);\n    position: relative;\n    overflow: hidden;\n  }\n\n  .widget-container::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 2px;\n    background: linear-gradient(90deg,\n      transparent,\n      var(--primary-color),\n      transparent\n    );\n    opacity: 0.5;\n  }\n\n  .product-header {\n    display: flex;\n    align-items: center;\n    gap: 1.5rem;\n    padding: 1.5rem;\n    background: linear-gradient(135deg, rgba(var(--primary-rgb), 0.05) 0%, rgba(var(--primary-rgb), 0.02) 100%);\n    border-radius: 16px;\n    border: 1px solid rgba(var(--primary-rgb), 0.1);\n    margin-bottom: 2rem;\n    transition: var(--transition);\n  }\n\n  .product-header:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 24px rgba(var(--primary-rgb), 0.15);\n  }\n\n  .product-image {\n    width: 80px;\n    height: 80px;\n    border-radius: 12px;\n    object-fit: cover;\n    border: 2px solid rgba(255, 255, 255, 0.8);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  }\n\n  .product-info {\n    flex: 1;\n  }\n\n  .product-name {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: var(--text-primary);\n    margin-bottom: 0.5rem;\n  }\n\n  .product-rating {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    font-size: 0.9rem;\n    color: var(--text-secondary);\n  }\n\n  .stars {\n    color: #fbbf24;\n    font-size: 1.1rem;\n  }\n\n  .question-input-container {\n    margin-bottom: 2rem;\n  }\n\n  .input-label {\n    display: block;\n    font-weight: 600;\n    color: var(--text-primary);\n    margin-bottom: 0.75rem;\n    font-size: 1rem;\n  }\n\n  .question-input {\n    width: 100%;\n    padding: 1rem 1.25rem;\n    border: 2px solid transparent;\n    border-radius: 14px;\n    background: rgba(255, 255, 255, 0.9);\n    backdrop-filter: blur(10px);\n    font-size: 1rem;\n    font-family: inherit;\n    color: var(--text-primary);\n    transition: var(--transition);\n    resize: vertical;\n    min-height: 100px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  }\n\n  .question-input:focus {\n    outline: none;\n    border-color: var(--primary-color);\n    box-shadow:\n      0 4px 16px rgba(var(--primary-rgb), 0.2),\n      0 0 0 4px rgba(var(--primary-rgb), 0.1);\n    background: rgba(255, 255, 255, 1);\n  }\n\n  .question-input::placeholder {\n    color: var(--text-secondary);\n    opacity: 0.6;\n  }\n\n  .char-counter {\n    text-align: right;\n    font-size: 0.85rem;\n    color: var(--text-secondary);\n    margin-top: 0.5rem;\n  }\n\n  .ask-button {\n    width: 100%;\n    padding: 1rem 2rem;\n    border: none;\n    border-radius: 14px;\n    background: linear-gradient(135deg, var(--primary-color) 0%, rgba(var(--primary-rgb), 0.8) 100%);\n    color: white;\n    font-size: 1rem;\n    font-weight: 600;\n    cursor: pointer;\n    transition: var(--transition);\n    box-shadow:\n      0 4px 16px rgba(var(--primary-rgb), 0.3),\n      inset 0 1px 0 rgba(255, 255, 255, 0.2);\n    position: relative;\n    overflow: hidden;\n  }\n\n  .ask-button::before {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 0;\n    height: 0;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.3);\n    transform: translate(-50%, -50%);\n    transition: width 0.6s, height 0.6s;\n  }\n\n  .ask-button:hover::before {\n    width: 300px;\n    height: 300px;\n  }\n\n  .ask-button:hover {\n    transform: translateY(-2px);\n    box-shadow:\n      0 8px 24px rgba(var(--primary-rgb), 0.4),\n      inset 0 1px 0 rgba(255, 255, 255, 0.3);\n  }\n\n  .ask-button:active {\n    transform: translateY(0);\n  }\n\n  .ask-button:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n\n  .loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.75rem;\n    padding: 2rem;\n  }\n\n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 3px solid rgba(var(--primary-rgb), 0.2);\n    border-top-color: var(--primary-color);\n    border-radius: 50%;\n    animation: spin 0.8s linear infinite;\n  }\n\n  @keyframes spin {\n    to { transform: rotate(360deg); }\n  }\n\n  .answer-container {\n    background: linear-gradient(135deg, rgba(var(--primary-rgb), 0.03) 0%, rgba(255, 255, 255, 0.5) 100%);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(var(--primary-rgb), 0.15);\n    border-radius: 16px;\n    padding: 1.5rem;\n    margin-bottom: 1.5rem;\n    animation: slideIn 0.5s ease-out;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);\n  }\n\n  @keyframes slideIn {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  .answer-header {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    margin-bottom: 1rem;\n  }\n\n  .ai-icon {\n    width: 32px;\n    height: 32px;\n    background: linear-gradient(135deg, var(--primary-color) 0%, rgba(var(--primary-rgb), 0.7) 100%);\n    border-radius: 8px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: white;\n    font-weight: bold;\n    box-shadow: 0 2px 8px rgba(var(--primary-rgb), 0.3);\n  }\n\n  .answer-title {\n    font-weight: 600;\n    color: var(--text-primary);\n    font-size: 1rem;\n  }\n\n  .confidence-badge {\n    margin-left: auto;\n    padding: 0.25rem 0.75rem;\n    border-radius: 20px;\n    font-size: 0.75rem;\n    font-weight: 600;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n  }\n\n  .confidence-high {\n    background: rgba(16, 185, 129, 0.15);\n    color: #059669;\n    border: 1px solid rgba(16, 185, 129, 0.3);\n  }\n\n  .confidence-medium {\n    background: rgba(251, 191, 36, 0.15);\n    color: #d97706;\n    border: 1px solid rgba(251, 191, 36, 0.3);\n  }\n\n  .confidence-low {\n    background: rgba(239, 68, 68, 0.15);\n    color: #dc2626;\n    border: 1px solid rgba(239, 68, 68, 0.3);\n  }\n\n  .answer-text {\n    font-size: 1rem;\n    line-height: 1.7;\n    color: var(--text-primary);\n  }\n\n  .review-snippets {\n    margin-top: 2rem;\n  }\n\n  .snippets-title {\n    font-size: 0.9rem;\n    font-weight: 600;\n    color: var(--text-secondary);\n    margin-bottom: 1rem;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n  }\n\n  .review-snippet {\n    background: rgba(255, 255, 255, 0.8);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(0, 0, 0, 0.06);\n    border-radius: 12px;\n    padding: 1rem;\n    margin-bottom: 0.75rem;\n    transition: var(--transition);\n  }\n\n  .review-snippet:hover {\n    transform: translateX(4px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  }\n\n  .review-rating {\n    color: #fbbf24;\n    font-weight: 600;\n    margin-bottom: 0.5rem;\n  }\n\n  .review-text {\n    font-size: 0.95rem;\n    color: var(--text-primary);\n    line-height: 1.6;\n    margin-bottom: 0.5rem;\n  }\n\n  .review-author {\n    font-size: 0.85rem;\n    color: var(--text-secondary);\n    font-style: italic;\n  }\n\n  .popular-questions {\n    margin-top: 2rem;\n  }\n\n  .popular-title {\n    font-size: 1rem;\n    font-weight: 600;\n    color: var(--text-primary);\n    margin-bottom: 1rem;\n  }\n\n  .question-buttons {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.75rem;\n  }\n\n  .question-button {\n    padding: 0.6rem 1.2rem;\n    border: 1px solid rgba(var(--primary-rgb), 0.2);\n    border-radius: 24px;\n    background: rgba(255, 255, 255, 0.8);\n    backdrop-filter: blur(10px);\n    color: var(--text-primary);\n    font-size: 0.9rem;\n    cursor: pointer;\n    transition: var(--transition);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  }\n\n  .question-button:hover {\n    background: var(--primary-color);\n    color: white;\n    border-color: var(--primary-color);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.3);\n  }\n\n  .error-message {\n    background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);\n    border: 1px solid rgba(239, 68, 68, 0.3);\n    border-radius: 12px;\n    padding: 1.25rem;\n    color: #dc2626;\n    margin-bottom: 1.5rem;\n    animation: shake 0.5s;\n  }\n\n  @keyframes shake {\n    0%, 100% { transform: translateX(0); }\n    25% { transform: translateX(-10px); }\n    75% { transform: translateX(10px); }\n  }\n\n  .hidden {\n    display: none;\n  }\n\n  @media (max-width: 768px) {\n    .widget-container {\n      padding: 1.5rem;\n      border-radius: 16px;\n    }\n\n    .product-header {\n      flex-direction: column;\n      text-align: center;\n    }\n\n    .product-image {\n      width: 100px;\n      height: 100px;\n    }\n\n    .question-input {\n      font-size: 16px; /* Prevent zoom on iOS */\n    }\n  }\n`;\n","/**\n * Kiyoh AI Q&A Widget - Entry Point\n * Version: 1.0.0\n */\n\nimport KiyohAIWidget from './KiyohAIWidget.js';\n\n// Auto-initialize on DOM ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', init);\n} else {\n  init();\n}\n\nfunction init() {\n  console.log('[Kiyoh AI Widget] Initialized');\n}\n\n// Export for module usage\nexport { KiyohAIWidget };\n"],"names":["root","factory","exports","module","define","amd","this","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","return","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_defineProperties","_toPropertyKey","key","_typeof","toPrimitive","String","Number","_toPrimitive","GTINDetector","_classCallCheck","_callee","strategies","_i","_strategies","strategy","gtin","_context","detectFromJSONLD","detectFromMetaTags","detectFromMicrodata","detectFromDataAttributes","detectFromPlatformSpecific","validateGTIN","_detect","arguments","apply","_next","_throw","_step","_iterator","_createForOfIteratorHelper","document","querySelectorAll","s","script","data","JSON","parse","textContent","findGTINInObject","error","err","obj","_i2","_gtinFields","field","result","_i3","_metaSelectors","selector","meta","querySelector","content","getAttribute","_i4","_microdataSelectors","element","trim","_i5","_dataSelectors","_i6","_attrs","attr","_window$ShopifyAnalyt","_window$dlv_dataLayer","wooSku","looksLikeGTIN","window","ShopifyAnalytics","product","variants","_window$ShopifyAnalyt2","sku","dlv_dataLayer","lightspeedEan","str","digits","replace","includes","validateChecksum","arr","split","map","checkDigit","pop","sum","multiplier","_asyncToGenerator","APIClient","baseUrl","_askQuestion","locationId","apiToken","question","productCode","language","response","_args","undefined","fetch","concat","method","headers","body","stringify","ok","json","catch","Error","status","_x","_x2","_x3","_x4","_getPopularQuestions","_callee2","limit","_args2","_context2","_x5","_getQAHistory","_callee3","_args3","_context3","_x6","_callSuper","_getPrototypeOf","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_wrapNativeSuper","Map","Function","toString","indexOf","_isNativeFunction","has","get","set","Wrapper","push","_setPrototypeOf","_construct","Boolean","valueOf","KiyohAIWidget","_HTMLElement","_this","attachShadow","mode","state","autoDetect","primaryColor","showProductInfo","apiBaseUrl","loading","answer","popularQuestions","apiClient","_inherits","name","oldValue","newValue","stateKey","_connectedCallback","render","initialize","_initialize","_t","detect","loadPopularQuestions","setState","message","_loadPopularQuestions","getPopularQuestions","success","questions","slice","updates","_objectSpread","_handleSubmit","_callee4","textarea","_t3","_this2","_context4","preventDefault","shadowRoot","askQuestion","setTimeout","answerEl","scrollIntoView","behavior","block","focus","dispatchEvent","Event","charCounter","target","rating","fullStars","Math","floor","hasHalfStar","stars","repeat","padEnd","_this3","_this$state","innerHTML","imageUrl","renderStars","reviewCount","confidence","relevantReviews","review","excerpt","author","join","q","form","addEventListener","handleSubmit","handleInputChange","forEach","btn","index","_popularQuestions$ind","handlePopularQuestionClick","HTMLElement","customElements","init","readyState"],"ignoreList":[],"sourceRoot":""}